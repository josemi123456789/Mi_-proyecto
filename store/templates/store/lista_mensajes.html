{% extends 'store/base.html' %}

{% block content %}
<h1 class="mb-4">Dashboard de Administraci√≥n</h1>
<p><a href="{% url 'dashboard' %}" class="btn btn-sm btn-outline-secondary">Volver al Dashboard</a></p>

<h2 class="mt-4 mb-4">Mensajes de Contacto Recibidos</h2>

{% if mensajes %}
<div class="table-responsive">
    <table class="table table-striped table-hover shadow-sm">
        <thead class="table-dark">
            <tr>
                <th scope="col">ID</th>
                <th scope="col">Nombre</th>
                <th scope="col">Email</th>
                <th scope="col">Asunto</th>
                <th scope="col">Enviado</th>
                <th scope="col" style="width: 40%;">Mensaje</th>
            </tr>
        </thead>
        <tbody>
            {% for mensaje in mensajes %}
            <tr>
                <th scope="row">{{ mensaje.id }}</th>
                <td>{{ mensaje.nombre }}</td>
                <td>{{ mensaje.email }}</td>
                <td>{{ mensaje.asunto }}</td>
                <td>{{ mensaje.fecha_envio|date:"d M Y H:i" }}</td>
                <td>
                    <div style="max-height: 100px; overflow-y: auto;">
                        {{ mensaje.mensaje }}
                    </div>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% else %}
<div class="alert alert-info text-center" role="alert">
    No hay mensajes de contacto nuevos.
</div>
{% endif %}

{% endblock %}